import { TestBed } from '@angular/core/testing';
import { AcrFormatService } from './acrformat.service';

const exampleFile = `! This file made by Acrostic 3.0 program. DO NOT EDIT!
[QUOTE]
Richard Sauder@Commentary@Yes, America has become a rogue state, a state that unleashes unprovoked warfare on other peoples and other nations. America has become a threat to the security of planet Earth and to the life and liberty of a growing number of its own citizens.
[GRID]
####YES#AMERICA#HAS#BECOM
E#A#ROGUE#STATE#A#STATE#T
HAT#UNLEASHES#UNPROVOKED#
WARFARE#ON#OTHER#PEOPLES#
AND#OTHER#NATIONS#AMERICA
#HAS#BECOME#A#THREAT#TO#T
HE#SECURITY#OF#PLANET#EAR
TH#AND#TO#THE#LIFE#AND#LI
BERTY#OF#A#GROWING#NUMBER
#OF#ITS#OWN#CITIZENS#####
[NUMGRID]
209 144 150 169 134 136 104
226 52 156 36 240 3 148
234 5 62 76 125 41 170
47 22 38 33 147 220 98
14 211 164 241 123
64 7 219 73 138 214 191 187 232
177 230 55 17 93 198
59 183 108 102 200 166 118 92 154 27 65 75
42 218 86 171 237 129 206 112 197 69 175 51 182 157
29 89 49 173 44 120 74 58 18 68
193 184 113 162 20 146
239 116 63 196 105 128 111 188 46 57 78 15 153 176
87 80 131 140 192 143 212 19 110 238 189
152 85 97 204 224
130 172 167 48 72 34
6 83 67 109
21 235 70 231 9 160 90
139 24 199 43 13 28 155 8 53 228 121 77 94 132 124 32 1
107 30 141 35 195 117
179 54 163 151 227 103 159 213
115 61 236 210 127 11 137 216
221 203 40 95
201 180 217 81 208 99 223 10 84 101 26 56 119 165 186 91 66 2
[title]
"Rogue Nation"
[byline]
by Billym
[lastfile]
C:\\!!delphi\\Acrostic3\\samplepuzzle1.txt
[loadlastfile]
TRUE
[NUMPROBLEMS]
14
[gridcolor]
16777215
[labels]
1 R|2 W|3 B|4 C|5 P|6 F|7 R|8 Q|9 W|10 U|11 R|12 E|13 L|14 G|15 J|16 M|17 K|
18 Q|19 D|20 R|21 W|22 H|23 R|24 J|25 S|26 R|27 D|28 O|29 S|30 B|31 D|32 V|
33 C|34 I|35 R|36 J|37 L|38 D|39 O|40 J|41 I|42 B|43 R|44 T|45 G|46 W|47 L|48 J|49 H|
50 U|51 C|52 L|53 F|54 H|55 W|56 P|57 J|58 I|59 Q|60 O|61 F|62 J|63 H|64 C|65 R|66 L|67 M|
68 W|69 P|70 W|71 N|72 I|73 M|74 J|75 Q|76 W|77 H|78 G|79 R|80 V|81 N|82 D|83 W|
84 W|85 H|86 T|87 A|88 L|89 S|90 H|91 P|92 M|93 L|94 I|95 K|96 U|97 L|98 S|99 H|100 W|101 J|
102 R|103 E|104 R|105 C|106 U|107 L|108 I|109 O|110 M|111 R|112 A|113 A|114 U|115 F|116 R|117 M|
118 S|119 M|120 A|121 K|122 D|123 B|124 A|125 T|126 N|127 L|128 H|129 R|130 B|131 I|132 T|133 Q|
134 K|135 T|136 E|137 W|138 H|139 O|140 A|141 C|142 I|143 O|144 J|145 I|146 L|147 G|148 T|149 W|
150 I|151 H|152 K|153 W|154 F|155 L|156 M|157 F|158 M|159 K|160 S|161 L|162 I|163 G|164 R|165 H|
166 W|167 V|168 N|169 I|170 W|171 A|172 U|173 E|174 M|175 T|176 F|177 U|178 W|179 I|180 F|181 D|
182 V|183 W|184 N|185 B|186 T|187 R|188 G|189 Q|190 F|191 C|192 Q|193 U|194 I|195 M|196 L|197 B|
198 E|
[keywords]
A. Having a rose-like pattern
ROSEATE
171 120 124 140 112 113 87
B. Powerful and concentrated
INTENSE
185 42 130 30 197 3 123
C. Card Game of old
CANASTA
191 4 51 64 105 33 141
D. Pagans, non-Christians
HEATHEN
38 19 31 27 122 181 82
E. Up to one's ears in something
AWASH
12 173 136 198 103
F. Haggle over price, again
REBARGAIN
53 6 180 61 115 176 157 154 190
G. Could be done, possible
DOABLE
147 188 45 14 78 163
H. Type of auto window glass
SHATTERPROOF
49 151 90 85 165 138 99 77 128 22 54 63
I. Best film, 1999, with Kevin Spacey
AMERICANBEAUTY
34 179 72 142 194 108 169 94 162 58 145 41 150 131
J. Place not to be "without a paddle" (3 wrds)
UPTHECREEK
24 74 40 144 36 101 62 48 15 57
K. Tyrant or dictator
DESPOT
159 152 95 134 17 121
L. 1987 Spielberg WWII  film starring Christian Bale (4 wrds)
EMPIREOFTHESUN
196 97 52 161 88 107 93 155 37 47 66 13 127 146
M. To make something idealized or heroic
ROMANTICIZE
73 67 110 117 158 119 174 16 92 195 156
N. What to separate the wheat from
CHAFF
126 71 81 168 184
O. Famed Canadian city
OTTAWA
109 143 139 39 60 28
P. Of no significance, not relevant
MOOT
5 69 56 91
Q. Birth overseer
MIDWIFE
18 192 59 189 8 133 75
R. 1989 Jeff Goldblum, Jim Carrey sci-fi satire film (4 wrds)
EARTHGIRLSAREEASY
116 20 164 35 11 23 129 7 43 187 102 65 79 111 104 26 1
S. Prickly plant
NETTLE
89 25 118 29 160 98
T. TV Appeal for funds
TELETHON
148 44 135 125 186 86 132 175
U. German road with no speed limit
AUTOBAHN
96 50 193 172 106 10 114 177
V Ice shelf of Anarctica
ROSS
182 167 32 80
W. 1982 'Airplane'-style spoof of hospital soap operas, directed by Garry Marshall (4 wrds)
YOUNGDOCTORSINLOVE
166 149 178 68 170 83 183 9 70 84 21 46 100 137 153 76 55 2
[randseed]
1500
`

const exampleFile2 = `! This file made by Acrostic 3.0 program. DO NOT EDIT!
[QUOTE]
Emily D@How happ@How happy is the little Stone That rambles in the Road alone And doesn't care about Careers And Exigencies never fears - Whose coat of elemental Brown A passing Universe put on
[GRID]
########HOW#HAPPY#IS#
THE#LITTLE#STONE#THAT
#RAMBLES#IN#THE#ROAD#
ALONE#AND#DOESNT#CARE
#ABOUT#CAREERS#AND#EX
IGENCIES#NEVER#FEARS-
WHOSE#COAT#OF#ELEMENT
AL#BROWN#A#PASSING#UN
IVERSE#PUT#ON########
[NUMGRID]
163 97 8 88 116 155 38 16 45 21 127 34 11 80 93 
136 110 33 90 81 36 74 143 18 96 
98 99 59 121 86 149 138 71 
40 108 73 47 103 27 54 135 162 44 123 147 156 115 
9 133 85 69 128 117 
94 114 57 19 102 161 52 169 153 63 137 12 25 
1 6 89 66 125 144 159 105 31 
172 70 14 58 168 2 113 20 32 87 119 145 164 134 64 
146 92 109 41 141 100 28 157 170 120 165 
48 78 131 139 152 111 53 15 84 5 37 101 82 166 75 
62 173 42 3 23 51 56 79 22 49 
151 67 160 26 130 126 107 154 
7 60 140 39 68 29 122 76 104 
[title]
Untitled
[byline]
by Anonymous
[copyright]
Puzzle ï¿½ 2003 by
[labels]
1 G|2 H|3 K|4 J|5 G|6 M|7 A|8 E|9 A|10 F|11 H|12 J|13 A|14 B|15 F|16 H|
17 A|18 K|19 K|20 F|21 L|22 D|23 I|24 M|25 G|26 H|27 B|28 A|29 B|30 J|31 A|32 M|33 D|
34 I|35 K|36 D|37 A|38 D|39 J|40 K|41 K|42 F|43 J|44 D|45 K|46 F|47 H|48 C|49 M|
50 K|51 F|52 H|53 G|54 L|55 M|56 E|57 H|58 C|59 D|60 B|61 J|62 M|63 J|64 K|65 A|
66 B|67 J|68 J|69 E|70 C|71 H|72 A|73 G|74 B|75 I|76 A|77 F|78 B|79 A|80 C|81 C|82 I|
83 J|84 F|85 D|86 M|87 G|88 L|89 D|90 I|91 B|92 J|93 H|94 F|95 D|96 A|97 E|98 H|99 I|
100 C|101 M|102 D|103 G|104 L|105 A|106 E|107 L|108 J|109 E|110 H|111 D|112 B|113 F|114 C|115 J|116 M|
117 I|118 B|119 G|120 H|121 I|122 D|123 C|124 L|125 J|126 F|127 L|128 A|129 D|130 I|131 G|132 L|
133 F|134 D|135 A|136 H|137 I|138 J|139 H|140 F|141 I|142 H|143 K|
[keywords]
A. The act of trying things out
EXPERIMENTATION
135 79 7 72 96 128 31 13 37 17 105 28 9 65 76 
B. Can be determined
MEASURABLE
112 91 27 74 66 29 60 118 14 78 
C. Clueless
IGNORANT
80 81 48 100 70 123 114 58 
D. The best HPST local group name (3 wds)
LECTIODEVIENNA
33 89 59 38 85 22 44 111 134 36 102 122 129 95 
E. Rising agents in bread
YEASTS
8 109 69 56 106 97 
F. Property of good food
DELICIOUSNESS
77 94 46 15 84 133 42 140 126 51 113 10 20 
G. Property of Hungry Ghost bread (2 wds)
HARDCRUST
1 5 73 53 103 119 131 87 25 
H. Where we are, per a song (5 wds)
ONTOPOFTHEWORLD
142 57 11 47 139 2 93 16 26 71 98 120 136 110 52 
I. We might be on the same one of these
WAVELENGTHS
121 75 90 34 117 82 23 130 141 99 137 
J. Reader of the non-Torah sacred text at a Shabbat service (2 wds)
HAFTARAHCHANTER
39 63 108 115 125 92 43 12 68 4 30 83 67 138 61 
K. Can be solved
ANSWERABLE
50 143 35 3 19 41 45 64 18 40 
L. Floating supports
PONTOONS
124 54 132 21 107 104 88 127 
M. [Food; insect; looking] they rhyme (3 wds)
PEABEESEE
6 49 116 32 55 24 101 62 86 
[randseed]
1500
`

describe('AcrformatService', () => {
  let service: AcrFormatService;

  beforeEach(() => {
    TestBed.configureTestingModule({});
    service = TestBed.inject(AcrFormatService);
  });

  it('should be created', () => {
    expect(service).toBeTruthy();
  });
  it('should parse file', () => {
    const puzzle = service.parseFile(exampleFile)
    expect(puzzle.author).toEqual("Billym")
  })

  it('should parse file', () => {
    const puzzle = service.parseFile(exampleFile2)
    expect(puzzle.author).toEqual("Untitleds")
  })
});
